//#include "stdafx.h"
#include <tchar.h>
#include <iostream>
#include <cmath>
#include <iomanip>
#include <QVector>
#include <QPair>
#include <math.h>
#include "FilterDate.h"
//#define N 128
//#define SEGMENTS 4
using namespace std;

int main()
{
    size_t DegreePolinom;
//    size_t n,m;
//    cout<<"From: "<<"\n";
//    cin >> n;
//    cout<<"To: "<<"\n";
//    cin >> m;
//    m = m-n;
    qreal* X_to = new double [N];
    qreal* Y_to = new double [N];
    qreal y[] = { /*0.033349741,
                   0.040191088,
                   0.047537126,
                   0.055963594,
                   0.06394431,
                   0.072309598,
                   0.080713168,
                   0.090888612,
                   0.103072032,
                   0.117602959,
                   0.134018674,
                   0.151535407,
                   0.170842528,
                   0.189356342,
                   0.206823528,
                   0.223179743,
                   0.238093436,
                   0.250559211,
                   0.261773854,
                   0.272000939,
                   0.281163841,
                   0.289409131,
                   0.297034174,
                   0.303454816,
                   0.309643924,
                   0.315205902,
                   0.319982171,
                   0.324132204,
                   0.327242017,
                   0.328954399,
                   0.327259988,
                   0.323004961,
                   0.315141916,
                   0.301813364,
                   0.284879118,
                   0.265755385,
                   0.245084167,
                   0.225027099,
                   0.207034498,
                   0.189898551,
                   0.176093087,
                   0.165275797,
                   0.156918868,
                   0.150861263,
                   0.147131875,
                   0.14370954,
                   0.140392363,
                   0.136136338,
                   0.131339654,
                   0.125673413,
                   0.119516619,
                   0.113854654,
                   0.108658396,
                   0.104061514,
                   0.101215042,
                   0.099207975,
                   0.09858489,
                   0.098863795,
                   0.099939838,
                   0.101557024,
                   0.103163302,
                   0.104208559,
                   0.104485892,
                   0.103700079,
                   0.10160955,
                   0.098788314,
                   0.094834425,
                   0.090749025,
                   0.08687678,
                   0.083196521,
                   0.080274068,
                   0.077372208,
                   0.075673692,
                   0.074182734,
                   0.072943211,
                   0.07193511,
                   0.070471033,
                   0.069876216,
                   0.068846062,
                   0.068092406,
                   0.068124741,
                   0.067854248,
                   0.067807063,
                   0.06854558,
                   0.069392666,
                   0.069124423,
                   0.069369778,
                   0.069312237,
                   0.068799332,
                   0.06837979,
                   0.067763507,
                   0.066460349,
                   0.066101149,
                   0.065742806,
                   0.065889813,
                   0.066066332,
                   0.065733358,
                   0.066016793,
                   0.066646621,
                   0.066824064,
                   0.066561349,
                   0.067755014,
                   0.067642279,
                   0.069258809,
                   0.068587571,
                   0.069646567,
                   0.070313416,
                   0.069728501,
                   0.070031397,
                   0.069904342,
                   0.069891803,
                   0.069510669,
                   0.068852045,
                   0.069788098,
                   0.068439133,
                   0.0677751,
                   0.068765745,
                   0.068218797,
                   0.068833418,
                   0.068548389,
                   0.06894058,
                   0.070656694,
                   0.070985846,
                   0.071988024,
                   0.073582768,
                   0.074509807,
                   0.07619153,
                   0.077648364,
};*/
    0.47999,
    0.50098,
    0.526942313,
    0.553299069,
    0.575341463,
    0.592782855,
    0.603284657,
    0.606395066,
    0.602601826,
    0.59044975,
    0.572361529,
    0.549399137,
    0.524915397,
    0.500492096,
    0.478375912,
    0.459697008,
    0.444900602,
    0.434669822,
    0.428245306,
    0.424435496,
    0.422332704,
    0.421089113,
    0.42012614,
    0.419442326,
    0.418812424,
    0.41858986,
    0.419389129,
    0.421052635,
    0.424373716,
    0.42731896,
    0.429545283,
    0.431343824,
    0.431089252,
    0.429717928,
    0.42711544,
    0.423070818,
    0.418465883,
    0.413585484,
    0.409077227,
    0.406236261,
    0.407381415,
    0.411316425,
    0.420134395,
    0.433588445,
    0.447774321,
    0.461117625,
    0.471753359,
    0.477639079,
    0.478095502,
    0.475356311,
    0.470253229,
    0.464127928,
    0.457935989,
    0.454087615,
    0.452687353,
    0.453701645,
    0.457605124,
    0.463654697,
    0.472222209,
    0.481610239,
    0.490685582,
    0.49817732,
    0.502219319,
    0.502896607,
    0.49956277,
    0.493928552,
    0.485999078,
    0.478546172,
    0.471087307,
    0.46490261,
    0.460457563,
    0.457093239,
    0.453971595,
    0.451240838,
    0.447639495,
    0.443764031,
    0.43917346,
    0.433400631,
    0.427110583,
    0.420180261,
    0.413384587,
    0.406357199,
    0.400534481,
    0.394761086,
    0.390351653,
    0.386949271,
    0.38399744,
    0.381427526,
    0.379979223,
    0.378041744,
    0.376787841,
    0.375,
    0.374613494,
    0.37421307,
    0.374617726,
    0.374889493,
    0.37563172,
    0.375394613,
    0.375745535,
    0.37394315,
    0.373446137,
    0.372181654,
    0.370023668,
    0.368114978,
    0.366603106,
    0.365711004,
    0.365395814,
    0.366757751,
    0.369059056,
    0.372943342,
    0.377937168,
    0.383002609,
    0.389042825,
    0.393330812,
    0.396202534,
    0.399318278,
    0.399649203,
    0.398333549,
    0.396928757,
    0.394314855,
    0.39164272,
    0.389642566,
    0.388850182,
    0.387878776,
    0.389939219,
    0.392257214,
    0.396489292,
    0.399471194
    };

    cout<<"DegreePolinom: "<<"\n";
    cin >> DegreePolinom;
    QVector<QPair<qreal, qreal> > func;
    for(size_t i = 0; i<N; i++)
    {
        X_to[i]=i;
        Y_to[i]=y[i];
        func.push_back(QPair< qreal , qreal >(X_to[i] , Y_to[i]) );
    }
    CFilterDate function;
    function.Filter(func, DegreePolinom);
    function.GetAproxPoly();
    function.GetVertices(1, 128);

}
